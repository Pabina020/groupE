<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> RentUp - Real Estate Free Website Template</title>

  <link rel="stylesheet" type="text/css" href="css/vendor.css">

  <!-- Link Swiper's CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />


  <!-- Link Bootstrap's CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

  <link rel="stylesheet" href="style.css">

  <!-- Google Fonts ================================================== -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@300;400;500;600;700&display=swap"
    rel="stylesheet">

  <!-- script ================================================== -->
  <script src="js/modernizr.js"></script>
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/chocolat/dist/css/chocolat.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chocolat/dist/js/jquery.chocolat.min.js"></script>
  <style>
    .property-card {
      transition: transform 0.3s ease;
    }

    .property-card:hover {
      transform: translateY(-5px);
    }

    .loading-spinner {
      height: 200px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .swiper-slide {
      height: auto;
    }
  </style>
</head>

<body data-bs-spy="scroll" data-bs-target="#navbar-example2" tabindex="0">

<!-- Centered Toast for Add Property Access -->
<div class="position-fixed top-50 start-50 translate-middle p-3" style="z-index: 1060">
  <div id="loginToast" 
       class="toast align-items-center text-white bg-danger border-0 shadow-lg" 
       role="alert" 
       aria-live="assertive" 
       aria-atomic="true"
       data-bs-autohide="false">
    <div class="d-flex">
      <div class="toast-body" id="loginToastBody">Please log in as a landlord to add a property.</div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
  </div>
</div>
>
  <!-- nav bar start -->
  <header class="site-header fixed-top ">
    <nav class="navbar navbar-expand-lg py-3">
      <div class="container d-flex justify-content-between align-items-center">
        <!-- Logo -->
        <a class="navbar-brand" href="./index.html"><img src="images/logo.png" alt="image"></a>


        <!-- Nav items -->
        <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar2"
          aria-controls="offcanvasNavbar2" aria-label="Toggle navigation"><ion-icon name="menu-outline"
            style="font-size: 30px;"></ion-icon></button>

        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar2"
          aria-labelledby="offcanvasNavbar2Label">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasNavbar2Label">Menu</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <ul class="navbar-nav justify-content-center rounded-pill bg-white align-items-center mx-lg-5 px-lg-5">
              <li class="nav-item">
                <a class="nav-link active me-md-4" href="index.html">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link me-md-4" href="index.html#apartment">Apartments</a>
              </li>
              <li class="nav-item">
                <a class="nav-link me-md-4" href="index.html#residence">Properties</a>
              </li>
              <li class="nav-item">
                <a class="nav-link me-md-4" href="HelpCenter/project/helpcenter.html">Help center</a>
              </li>
              <li class="nav-item">
                <a class="nav-link me-md-4" href="index.html#contact-us">Contact Us</a>
              </li>
              <li class="nav-item dropdown ">
                <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown" role="button"
                  aria-expanded="false">
                  <span class="link-text">Pages</span>
                </a>

                <ul class="dropdown-menu dropdown-menu-light">
                  <li><a href="about.html" class="dropdown-item">About </a>
                  </li>
                  <li><a href="properties.html" class="dropdown-item">Properties </a></li>
                  <li><a href="contact.html" class="dropdown-item">Contact </a></li>
                  <li><a href="reviews.html" class="dropdown-item">Review </a></li>
                  <li><a href="agents.html" class="dropdown-item">Agents </a>
                  </li>
                  <li><a href="faqs.html" class="dropdown-item">FAQs </a>
                  </li>
                  <li><a href="bug-report/index.html" class="dropdown-item">Report Bug </a>
                  </li>
                </ul>
              </li>
            </ul>




            <div class="d-flex align-items-center gap-3 mt-3 mt-lg-0">

              <!-- Add Property Button -->
              <a href="#" id="addPropertyBtn" class="btn btn-success btn-sm rounded-pill px-3">Add Property +</a>

              <!-- User Profile Section -->
              <div class="d-flex align-items-center gap-2">
                <img src="images/user-avatar.png" alt="User Avatar" class="rounded-circle"
                  style="width: 40px; height: 40px;">
                <span class="fw-semibold text-dark"><span id="username">User</span></span>
                <a href="#" id="logoutBtn" class="btn btn-danger btn-sm rounded-pill">Logout</a>
              </div>

            </div>

          </div>
    </nav>
  </header>


  <!-- billboard start -->
  <section id="billboard" class="py-5">
    <div class="container">
      <div class="row align-items-center">
        <!-- Left Content -->
        <div class="col-lg-5 text-start" data-aos="fade-right" data-aos-delay="100" data-aos-duration="800">
          <h1 class="fw-semibold mb-4 text-primary" style="font-size: 3.2rem;">
            Perfect Way To Buy <br>And Sell A Home
          </h1>
          <p class="text-muted mb-4">
           A user-friendly online platform that connects property owners with renters. The website allows users to browse, search, and filter available rental listings, including apartments, houses, and commercial spaces.
          </p>
          <div class="d-flex gap-3" data-aos="fade-up" data-aos-delay="300">
            <a href="properties.html" class="btn btn-primary rounded-pill px-4">VIEW</a>
            <a href="about.html" class="btn btn-outline-primary rounded-pill px-4">LEARN MORE</a>
          </div>
        </div>

        <!-- Right Content (Images) -->
        <div class="col-lg-7 d-none d-lg-flex justify-content-lg-end justify-content-center mt-1 mt-lg-0">
          <div class="hero-image-group position-relative">
            <div class="hero-image hero-main" data-aos="zoom-in" data-aos-delay="200" data-aos-duration="1000">
              <img src="images/hero1.png" alt="Main House">
            </div>
            <div class="hero-image hero-secondary" data-aos="zoom-in" data-aos-delay="400" data-aos-duration="1000">
              <img src="images/hero2.png" alt="Interior Stairs">
            </div>
          </div>
        </div>
      </div>

      <!-- Search Bar -->
      <nav class="navbar navbar-expand-lg billboard-nav mt-5" data-aos="fade-up" data-aos-delay="500"
        data-aos-duration="900">
        <div class="container billboard-search-box shadow-lg">
          <div class="row w-100 gx-0 align-items-center">
            <div class="col-lg-2 billboard-select">
              <label class="form-label small text-muted mb-0">Purpose</label>
              <select class="form-select border-0 p-0" name="purpose">
                <option selected>Buy</option>
                <option>Rent</option>
                <option>Sell</option>
              </select>
            </div>

            <div class="col-lg-3 billboard-select ps-2">
              <label class="form-label small text-muted mb-0">Location</label>
              <select class="form-select border-0 p-0" name="location">
                <option selected>Toronto, Canada</option>
                <option>Texas</option>
                <option>Miami</option>
                <option>New York</option>
              </select>
            </div>

            <div class="col-lg-3 billboard-select ps-2">
              <label class="form-label small text-muted mb-0">Type</label>
              <select class="form-select border-0 p-0" name="type">
                <option selected>Industrial Home</option>
                <option>House</option>
                <option>Villa</option>
                <option>Loft</option>
              </select>
            </div>

            <div class="col-lg-3 billboard-select ps-2 border-0">
              <label class="form-label small text-muted mb-0">Price Range</label>
              <div class="slider-wrapper">
                <div class="slider position-absolute">
                  <div class="progress"></div>
                </div>
                <input type="range" min="1000" max="10000" value="1000" class="range-input position-absolute range-min">
                <input type="range" min="1000" max="10000" value="10000"
                  class="range-input position-absolute range-max">
              </div>
              <div class="range-labels d-flex justify-content-between mt-1">
                <small><strong id="minPriceLabel">$1k</strong></small>
                <small><strong id="maxPriceLabel">$10k</strong></small>
              </div>
            </div>

            <div class="col-lg-1 billboard-btn d-flex justify-content-end">
              <a href="properties.html" type="button" class="btn btn-primary rounded-pill px-4 py-4"
                onclick="filterProperties()">Search</a>
            </div>
          </div>
        </div>
      </nav>
    </div>
  </section>

  <!-- apartment start -->

<section class="apartment-types py-5" id="apartment">
  <div class="container">
    <div class="text-center mb-4">
      <h2 class="featured-heading text-center m-0">
        <span class="fw-semibold">Explore Apartment</span> 
        <span class="text-grey fw-semibold">Types</span>
      </h2>
      <p class="text-grey text-center fw-semibold fs-6">Based On What The Customer Requires</p>
    </div>

    <div class="row g-4 justify-content-center" id="rent-properties-container">
      <div class="col-12 text-center loading-spinner">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>
    </div>
  </div>
</section>



   <!-- Residence start  -->

<!-- Residence start -->
<section id="residence">
  <div class="container my-5 py-5">
    <div class="text-center mb-4">
      <h2 class="featured-heading text-center m-0">
        <span class="fw-semibold">Homes For</span> 
        <span class="text-grey fw-semibold">You</span>
      </h2>
      <p class="text-grey text-center fw-semibold fs-6">Choose Comfort And Peace</p>
    </div>

    <div class="swiper residence-swiper">
      <div class="swiper-wrapper" id="sale-properties-container">
        <div class="swiper-slide">
          <div class="card h-100 loading-spinner">
            <div class="spinner-border text-primary" role="status">
              <span class="visually-hidden">Loading...</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="swiper-button-next residence-swiper-next residence-arrow"></div>
    <div class="swiper-button-prev residence-swiper-prev residence-arrow"></div>

    <div class="residence-btn text-center mt-5">
      <a href="properties.html" class="btn btn-primary rounded-pill px-4 py-3">View All Properties</a>
    </div>
  </div>
</section>

 <!-- Help start -->
<section id="help" class="py-5">
  <div class="container-lg my-5">
    <div class="row align-items-center justify-content-between">
      <!-- Image Group -->
      <div class="col-md-6 d-flex gap-3 justify-content-center">
        <!-- First Image -->
        <div class="rounded-4 overflow-hidden shadow-sm">
          <img src="images/group1.jpg" class="img-fluid" alt="Outdoor House">
        </div>

        <!-- Second Image with Play Icon -->
        <div class="position-relative rounded-4 overflow-hidden">
          <img src="images/group2.jpg" class="img-fluid" alt="Dining Area">
        </div>
      </div>

      <!-- Text Content -->
      <div class="col-md-5 mt-4 mt-md-0">
        <h2 class="fw-bold text-primary-emphasis mb-3" style="font-size: 2rem;">
          We Help People To <br> Find Homes
        </h2>
        <p class="text-muted mb-4">
          If you are having trouble finding the perfect rental for you, we have a functioning help centre that will be very useful for you and help guide you through all the confusions you might be facing. Click the button below and feel free to look through!
        </p>
        <a href="contact.html" class="btn btn-primary px-5 py-3 rounded-pill">Get In Touch</a>
      </div>
    </div>
  </div>
</section>


  <!-- Lets contact-us  -->
  <section class="py-5" id="contact-us">
    <div class="container">
      <div class="row align-items-center">
  
        <!-- Left: Text + Form -->
        <div class="col-lg-6 mb-4 mb-lg-0">
          <h5 class="fw-bold">Do You Have Any Question?</h5>
          <h5 class="fw-bold">Get Help From Us</h5>
  
          <div class="d-flex align-items-center gap-3 my-3">
            <div class="d-flex align-items-center gap-2">
              <i class="bi bi-check-circle"></i>
              <small class="fw-semibold">Chat live with our support team</small>
            </div>
            <div class="d-flex align-items-center gap-2">
              <i class="bi bi-check-circle"></i>
              <small class="fw-semibold">Browse our FAQ</small>
            </div>
          </div>
  
          <form class="d-flex align-items-center gap-3 mt-4">
            <div class="input-group rounded-pill bg-primary overflow-hidden shadow-sm" style="max-width: 350px;">
              <span class="input-group-text bg-primary border-0">
                <i class="bi bi-envelope text-white"></i>
              </span>
              <input type="email" class="form-control bg-primary border-0 text-white" placeholder="Enter your email address...">
            </div>

            <a href="contact.html" class="btn btn-primary rounded-pill px-4">Submit</a>
          </form>
        </div>
  
       <!-- Interactive Google Map -->
<div class="col-lg-6 text-center text-lg-end">
  <iframe
    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d906778.5731543257!2d83.83550629505596!3d28.38004029629043!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3995936df2dc9fb3%3A0xc1b1a7f6a587c1b2!2sNepal!5e0!3m2!1sen!2snp!4v1711809038429!5m2!1sen!2snp"
    width="100%"
    height="510px"
    style="border:0; border-radius: 1rem;"
    allowfullscreen=""
    loading="lazy"
    referrerpolicy="no-referrer-when-downgrade">
  </iframe>
</div>

  
      </div>
    </div>
  </section>
  
  <!-- Footer Start -->
<section id="footer">
  <div class="container footer-container py-5">
    <footer class="row row-cols-1 row-cols-sm-2 row-cols-md-5">

      <!-- Logo & Description -->
      <div class="col-md-4 mb-4">
        <h3><img src="images/logo-footer.png" alt="RentHub Logo" class="mb-3"></h3>
        <p>Neque, vestibulum sed varius magna et at. Eu, adipiscing morbi augue.</p>
        <div class="mt-3">
          <i class="bi bi-facebook pe-3"></i>
          <i class="bi bi-instagram pe-3"></i>
          <i class="bi bi-twitter pe-3"></i>
          <i class="bi bi-youtube pe-3"></i>
        </div>
      </div>

      <!-- Project Links -->
      <div class="col-md-2 mb-4">
        <h5>Project</h5>
        <ul class="nav flex-column">
          <li class="nav-item mb-2"><a href="#" class="footer-link">Houses</a></li>
          <li class="nav-item mb-2"><a href="#" class="footer-link">Rooms</a></li>
          <li class="nav-item mb-2"><a href="#" class="footer-link">Flats</a></li>
          <li class="nav-item mb-2"><a href="#" class="footer-link">Appartments</a></li>
        </ul>
      </div>

      <!-- Company Links -->
      <div class="col-md-2 mb-4">
        <h5>Company</h5>
        <ul class="nav flex-column">
          <li class="nav-item mb-2"><a href="#" class="footer-link">How we work?</a></li>
          <li class="nav-item mb-2"><a href="#" class="footer-link">Capital</a></li>
          <li class="nav-item mb-2"><a href="#" class="footer-link">Security</a></li>
        </ul>
      </div>

      <!-- Movement Links -->
      <div class="col-md-2 mb-4">
        <h5>Movement</h5>
        <ul class="nav flex-column">
          <li class="nav-item mb-2"><a href="#" class="footer-link">Movement</a></li>
          <li class="nav-item mb-2"><a href="#" class="footer-link">Support us</a></li>
          <li class="nav-item mb-2"><a href="#" class="footer-link">Pricing</a></li>
        </ul>
      </div>

      <!-- Help Links -->
      <div class="col-md-2 mb-4">
        <h5>Help</h5>
        <ul class="nav flex-column">
          <li class="nav-item mb-2"><a href="#" class="footer-link">Privacy</a></li>
          <li class="nav-item mb-2"><a href="#" class="footer-link">Condition</a></li>
          <li class="nav-item mb-2"><a href="#" class="footer-link">Blog</a></li>
          <li class="nav-item mb-2"><a href="#" class="footer-link">FAQs</a></li>
        </ul>
      </div>

    </footer>
  </div>

  <!-- Bottom Footer -->
  <div class="container">
    <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 mt-4 border-top">
      <div class="col-md-8 d-flex align-items-center">
        <p class="mb-0 text-white">© 2025 AgileTech, Inc. All rights reserved.</p>
      </div>
      <div class="col-md-4 d-flex align-items-center justify-content-end">
        <p class="mb-0 text-white">HTML template by: <a href="https://agiletech.com/" class="link-primary text-decoration-underline" target="_blank">AgileTech</a></p>
      </div>
    </footer>
  </div>
</section>




 <!-- 1. jQuery (for Chocolat or legacy plugins) -->
<script src="js/jquery-1.11.0.min.js"></script>

<!-- 2. Swiper (for sliders) -->
<script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>

<!-- 3. Bootstrap (must come BEFORE your custom scripts) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
  crossorigin="anonymous"></script>

<!-- 4. Your custom scripts (AFTER Bootstrap is available) -->
<script src="js/script.js"></script>
<script src="LogSign/project/script.js"></script>

<script></script>
  <script>
    const rangeInputs = document.querySelectorAll(".range-input");
    const progress = document.querySelector(".slider .progress");
    const minInput = rangeInputs[0];
    const maxInput = rangeInputs[1];
    const priceGap = 1000;
    const minLabel = document.getElementById("minPriceLabel");
    const maxLabel = document.getElementById("maxPriceLabel");

    function formatPrice(value) {
      return "$" + (value >= 1000 ? (value / 1000) + "k" : value);
    }

    rangeInputs.forEach(input => {
      input.addEventListener("input", () => {
        let minVal = parseInt(minInput.value);
        let maxVal = parseInt(maxInput.value);

        if (maxVal - minVal < priceGap) {
          if (input.classList.contains("range-min")) {
            minInput.value = maxVal - priceGap;
            minVal = minInput.value;
          } else {
            maxInput.value = minVal + priceGap;
            maxVal = maxInput.value;
          }
        } else {
          const maxRange = parseInt(minInput.max);
          progress.style.left = (minVal / maxRange) * 100 + "%";
          progress.style.right = 100 - (maxVal / maxRange) * 100 + "%";
        }

        minLabel.textContent = formatPrice(minVal);
        maxLabel.textContent = formatPrice(maxVal);
      });
    });

    function filterProperties() {
      const purpose = document.querySelector("select[name='purpose']")?.value?.toLowerCase();
      const location = document.querySelector("select[name='location']")?.value?.toLowerCase();
      const type = document.querySelector("select[name='type']")?.value?.toLowerCase();
      const minPrice = parseInt(minInput.value);
      const maxPrice = parseInt(maxInput.value);

      document.querySelectorAll(".swiper-slide").forEach(card => {
        const cardPurpose = card.dataset.purpose?.toLowerCase();
        const cardLocation = card.dataset.location?.toLowerCase();
        const cardType = card.dataset.type?.toLowerCase();
        const cardPrice = parseInt(card.dataset.price);

        const matches = (!purpose || cardPurpose === purpose) &&
          (!location || cardLocation === location) &&
          (!type || cardType === type) &&
          (cardPrice >= minPrice && cardPrice <= maxPrice);

        card.style.display = matches ? "block" : "none";
      });
    }
    AOS.init();
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // Load rent properties (first 4 rental properties)
      loadProperties('Rent', 4, 'rent-properties-container', createRentCard);

      // Load sale properties (first 6 sale properties)
      loadProperties('Sale', 6, 'sale-properties-container', createSaleCard);

      // Initialize swiper after sale properties are loaded
      setTimeout(initSwiper, 1000);
    });

    function loadProperties(type, limit, containerId, createCardFunction) {
      fetch('get_properties.php')
        .then(response => response.json())
        .then(data => {
          if (data.error) {
            showError(containerId, data.error);
            return;
          }

          // Filter properties by type and limit
          const filtered = data
            .filter(p => p.type === type)
            .slice(0, limit);

          renderProperties(filtered, containerId, createCardFunction);
        })
        .catch(error => {
          console.error('Error:', error);
          showError(containerId, 'Failed to load properties. Please try again later.');
        });
    }

    function renderProperties(properties, containerId, createCardFunction) {
      const container = document.getElementById(containerId);
      container.innerHTML = '';

      if (properties.length === 0) {
        container.innerHTML = `
        <div class="col-12 text-center py-4">
          <p class="text-muted">No properties available at the moment.</p>
        </div>
      `;
        return;
      }

      properties.forEach(property => {
        const card = createCardFunction(property);
        if (containerId === 'rent-properties-container') {
          const col = document.createElement('div');
          col.className = 'col-md-6 col-lg-3';
          col.innerHTML = card;
          container.appendChild(col);
        } else {
          const slide = document.createElement('div');
          slide.className = 'swiper-slide';
          slide.innerHTML = card;
          container.appendChild(slide);
        }
      });

      // Reinitialize swiper for sale properties
      if (containerId === 'sale-properties-container') {
        initSwiper();
      }
    }

    function createRentCard(property) {
      // Format price for rental properties
      let price = property.price || '0';

      // Clean the price string
      price = price.toString()
        .replace(/[^\d.]/g, '')  // Remove all non-numeric characters except decimal point
        .replace(/^0+/, '')      // Remove leading zeros
        || '0';                  // Default to '0' if empty

      // Format with commas if it's a number
      if (!isNaN(price)) {
        price = Number(price).toLocaleString();
      }

      return `
    <div class="card property-card shadow-sm border-0 rounded-4 h-100 overflow-hidden">
      <div class="position-relative">
        <img src="${property.main_image || 'images/apartment1.jpg'}" 
             class="card-img-top" 
             alt="${property.name}"
             style="height: 200px; object-fit: cover;">
        <div class="hover-overlay d-flex justify-content-center align-items-center">
          <a href="property-single.html?id=${property.property_id}" 
             class="btn btn-primary rounded-pill px-4 py-2">
            Book Now
          </a>
        </div>
      </div>
      <div class="card-body">
        <h5 class="card-title">${property.name || 'Property'}</h5>
        <p class="text-muted mb-2">${property.location || 'Location not specified'}</p>
        <div class="d-flex gap-2 mb-2">
          <small class="text-muted"><i class="bi bi-house-door"></i> ${property.bedrooms || 0} bed</small>
          <small class="text-muted"><i class="bi bi-droplet"></i> ${property.bathrooms || 0} bath</small>
          <small class="text-muted"><i class="bi bi-arrows-angle-expand"></i> ${property.sqft || 0} sqft</small>
        </div>
        <p class="fw-bold text-primary mb-0">$${price}/mo</p>
      </div>
    </div>
  `;
    }

    function createSaleCard(property) {
      // Format price for sale properties
      let price = property.price || '0';

      // Clean the price string
      price = price.toString()
        .replace(/[^\d.]/g, '')  // Remove all non-numeric characters except decimal point
        .replace(/^0+/, '')      // Remove leading zeros
        || '0';                  // Default to '0' if empty

      // Format with commas if it's a number
      if (!isNaN(price)) {
        price = Number(price).toLocaleString();
      }

      return `
    <div class="card property-card h-100">
      <a href="property-single.html?id=${property.property_id}">
        <img src="${property.main_image || 'images/item1.png'}" 
             class="card-img-top" 
             alt="${property.name}"
             style="height: 200px; object-fit: cover;">
      </a>
      <div class="card-body">
        <a href="property-single.html?id=${property.property_id}">
          <h5 class="card-title">${property.name || 'Property'}</h5>
        </a>
        <p class="text-muted">${property.location || 'Location not specified'}</p>
        <div class="d-flex gap-2 mb-3">
          <small class="text-muted"><i class="bi bi-house-door"></i> ${property.bedrooms || 0} bed</small>
          <small class="text-muted"><i class="bi bi-droplet"></i> ${property.bathrooms || 0} bath</small>
          <small class="text-muted"><i class="bi bi-arrows-angle-expand"></i> ${property.sqft || 0} sqft</small>
        </div>
        <div class="d-flex justify-content-between align-items-center">
          <p class="fw-bold text-primary mb-0">$${price}</p>
          <a href="property-single.html?id=${property.property_id}" 
             class="btn btn-sm btn-outline-primary rounded-pill">
            Book
          </a>
        </div>
      </div>
    </div>
  `;
    }

    function initSwiper() {
      if (document.querySelector('.residence-swiper')) {
        new Swiper('.residence-swiper', {
          slidesPerView: 1,
          spaceBetween: 20,
          navigation: {
            nextEl: '.residence-swiper-next',
            prevEl: '.residence-swiper-prev',
          },
          breakpoints: {
            576: { slidesPerView: 2 },
            768: { slidesPerView: 2 },
            992: { slidesPerView: 3 },
            1200: { slidesPerView: 3 }
          }
        });
      }
    }

    function showError(containerId, message) {
      const container = document.getElementById(containerId);
      container.innerHTML = `
      <div class="col-12 text-center py-4">
        <div class="alert alert-danger">
          ${message}
        </div>
      </div>
    `;
    }
  </script>
<!-- Centered Toast Container -->
<div class="position-fixed top-50 start-50 translate-middle p-3" style="z-index: 1055">
  <div id="logoutToast" class="toast align-items-center text-white bg-success border-0 shadow-lg" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="d-flex">
      <div class="toast-body" id="logoutToastBody">Logging out...</div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
  </div>
</div>
</body>

</html>