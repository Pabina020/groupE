<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Admin Upload</title>

  <link rel="stylesheet" type="text/css" href="css/vendor.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script src="js/modernizr.js"></script>
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</head>

<body data-bs-spy="scroll" data-bs-target="#navbar-example2" tabindex="0">

  <!-- Header -->
  <header class="site-header fixed-top ">
    <nav class="navbar navbar-expand-lg py-3">
      <div class="container d-flex justify-content-between align-items-center">
        <a class="navbar-brand" href="./index.html"><img src="images/logo.png" alt="image"></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar2"
          aria-controls="offcanvasNavbar2" aria-label="Toggle navigation"><ion-icon name="menu-outline"
            style="font-size: 30px;"></ion-icon></button>
        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar2"
          aria-labelledby="offcanvasNavbar2Label">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasNavbar2Label">Menu</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <ul class="navbar-nav justify-content-center rounded-pill bg-white align-items-center mx-lg-5 px-lg-5">
              <li class="nav-item"><a class="nav-link me-md-4" href="index.html">Home</a></li>
              <li class="nav-item"><a class="nav-link me-md-4" href="#apartment">Apartments</a></li>
              <li class="nav-item"><a class="nav-link me-md-4" href="#residence">Properties</a></li>
              <li class="nav-item"><a class="nav-link me-md-4" href="#help">Help center</a></li>
              <li class="nav-item"><a class="nav-link me-md-4" href="#contact-us">Contact Us</a></li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown" role="button"
                  aria-expanded="false"><span class="link-text">Pages</span></a>
                <ul class="dropdown-menu dropdown-menu-light">
                  <li><a href="about.html" class="dropdown-item">About </a></li>
                  <li><a href="properties.html" class="dropdown-item">Properties </a></li>
                  <li><a href="property-single.html" class="dropdown-item">Property-Single </a></li>
                  <li><a href="contact.html" class="dropdown-item">Contact </a></li>
                  <li><a href="reviews.html" class="dropdown-item">Review </a></li>
                  <li><a href="agents.html" class="dropdown-item">Agents </a></li>
                  <li><a href="faqs.html" class="dropdown-item">FAQs </a></li>
                </ul>
              </li>
            </ul>
            <div class="d-flex gap-2">
              <a href="LogSign/project/login.html" class="btn btn-light rounded-pill px-3 py-2">Login</a>
              <a href="LogSign/project/Signup.html" class="btn btn-primary text-white rounded-pill px-3 py-2">Sign Up</a>
            </div>
          </div>
        </div>
      </div>
    </nav>
  </header>

  <!-- Billboard -->
  <section id="page-billboard" style="background-image: url(images/pattern.png);">
    <div class="container py-5">
      <div class="page-billboard-container">
        <h1 class="text-capitalize lh-1 mb-3">Admin Upload</h1>
        <span class="item"><a href="index.html" class="text-primary">Home</a></span> &nbsp; / &nbsp; <span
          class="item">Admin Upload</span>
      </div>
    </div>
  </section>

  <!-- Main Content -->
  <div class="container py-5">

    <!-- Admin Authentication -->
    <div class="form-section mb-5">
      <h2 class="section-title">Admin Authentication</h2>
      <div class="row g-3">
        <div class="col-md-4"><input type="text" class="form-control" placeholder="Admin Username"></div>
        <div class="col-md-4"><input type="password" class="form-control" placeholder="Password"></div>
        <div class="col-md-4"><button class="btn btn-success w-100">Login</button></div>
      </div>
    </div>

    <!-- Upload Property -->
    <form class="form-section" action="property-handler.php" method="POST" enctype="multipart/form-data">
      <h2 class="section-title">Upload New Property Listing</h2>
    
      <div class="mb-4">
        <label class="form-label">Property ID</label>
        <input type="text" class="form-control" name="property_id" placeholder="Enter Unique Property ID" required>
      </div>
    
      <div class="mb-4">
        <label class="form-label">Property Name</label>
        <input type="text" class="form-control" name="property_name" placeholder="Enter Property Name" required>
      </div>
    
      <div class="mb-4">
        <label class="form-label">Location</label>
        <input type="text" class="form-control" name="location" placeholder="Enter Property Location" required>
      </div>
    
      <div class="mb-4">
        <label class="form-label">Bedrooms</label>
        <input type="number" class="form-control" name="bedrooms" placeholder="Enter Number of Bedrooms" required>
      </div>
    
      <div class="mb-4">
        <label class="form-label">Bathrooms</label>
        <input type="number" class="form-control" name="bathrooms" placeholder="Enter Number of Bathrooms" required>
      </div>
    
      <div class="mb-4">
        <label class="form-label">Square Feet</label>
        <input type="number" class="form-control" name="sqft" placeholder="Enter Area in Sq Ft" required>
      </div>
    
      <div class="mb-4">
        <label class="form-label">Type</label>
        <select class="form-control" name="type" required>
          <option value="Rent">Rent</option>
          <option value="Sale">Sale</option>
        </select>
      </div>
    
      <div class="mb-4">
        <label class="form-label">Price</label>
        <input type="text" inputmode="decimal"  class="form-control" name="price" placeholder="Enter Price" required>
      </div>
    
      <div class="mb-4">
        <label class="form-label">Property Description</label>
        <textarea class="form-control" name="property_description" placeholder="Enter Property Description" required></textarea>
      </div>
    
      <div class="mb-4">
        <label class="form-label">Upload Main Image</label>
        <div class="upload-box" id="admin-main-upload-box">
          <p>Upload Image</p>
          <input type="file" accept="image/*" id="admin-main-upload-input" name="main_image" required>
          <img id="admin-main-preview" class="preview-image mt-3 d-none" />
        </div>
      </div>
    
      <div class="mb-4">
        <label class="form-label">Upload Additional Images</label>
        <input type="file" name="extra_images[]" id="admin-extra-upload-input" multiple accept="image/*" class="form-control">
        <div id="admin-extra-preview-container" class="d-flex flex-wrap gap-3 mt-3"></div>
      </div>
    
      <button type="submit" class="btn btn-primary px-5 py-3 rounded-pill">Submit Listing</button>
    </form>
    
    </div>

    <!-- Delete Property -->
    <div class="form-section mt-5">
      <h2 class="section-title">Delete Property Listing</h2>
      <form action="property-handler.php" method="POST" id="delete-property-form">

        <div class="mb-4">
          <label class="form-label">Property ID</label>
          <input type="text" class="form-control" id="delete-property-id" name="delete-property-id" placeholder="Enter Property ID to Delete" required>
        </div>
        <button type="submit" class="btn btn-danger px-5 py-3 rounded-pill">Delete Listing</button>
      </form>
    </div>

  </div>

  <!-- Footer -->
  <section id="footer">
    <div class="container footer-container py-5">
      <footer class="row row-cols-1 row-cols-sm-2 row-cols-md-5">
        <div class="col-md-4 mb-4">
          <h3><img src="images/logo-footer.png" alt="RentHub Logo" class="mb-3"></h3>
          <p>Neque, vestibulum sed varius magna et at. Eu, adipiscing morbi augue.</p>
          <div class="mt-3">
            <i class="bi bi-facebook pe-3"></i>
            <i class="bi bi-instagram pe-3"></i>
            <i class="bi bi-twitter pe-3"></i>
            <i class="bi bi-youtube pe-3"></i>
          </div>
        </div>
        <div class="col-md-2 mb-4">
          <h5>Project</h5>
          <ul class="nav flex-column">
            <li class="nav-item mb-2"><a href="#" class="footer-link">Houses</a></li>
            <li class="nav-item mb-2"><a href="#" class="footer-link">Rooms</a></li>
            <li class="nav-item mb-2"><a href="#" class="footer-link">Flats</a></li>
            <li class="nav-item mb-2"><a href="#" class="footer-link">Appartments</a></li>
          </ul>
        </div>
        <div class="col-md-2 mb-4">
          <h5>Company</h5>
          <ul class="nav flex-column">
            <li class="nav-item mb-2"><a href="#" class="footer-link">How we work?</a></li>
            <li class="nav-item mb-2"><a href="#" class="footer-link">Capital</a></li>
            <li class="nav-item mb-2"><a href="#" class="footer-link">Security</a></li>
          </ul>
        </div>
        <div class="col-md-2 mb-4">
          <h5>Movement</h5>
          <ul class="nav flex-column">
            <li class="nav-item mb-2"><a href="#" class="footer-link">Movement</a></li>
            <li class="nav-item mb-2"><a href="#" class="footer-link">Support us</a></li>
            <li class="nav-item mb-2"><a href="#" class="footer-link">Pricing</a></li>
          </ul>
        </div>
        <div class="col-md-2 mb-4">
          <h5>Help</h5>
          <ul class="nav flex-column">
            <li class="nav-item mb-2"><a href="#" class="footer-link">Privacy</a></li>
            <li class="nav-item mb-2"><a href="#" class="footer-link">Condition</a></li>
            <li class="nav-item mb-2"><a href="#" class="footer-link">Blog</a></li>
            <li class="nav-item mb-2"><a href="#" class="footer-link">FAQs</a></li>
          </ul>
        </div>
      </footer>
    </div>
    <div class="container">
      <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 mt-4 border-top">
        <div class="col-md-8 d-flex align-items-center">
          <p class="mb-0 text-white">© 2025 AgileTech, Inc. All rights reserved.</p>
        </div>
        <div class="col-md-4 d-flex align-items-center justify-content-end">
          <p class="mb-0 text-white">HTML template by: <a href="" class="text-white text-decoration-underline" target="_blank">AgileTech</a></p>
        </div>
      </footer>
    </div>
  </section>

  <!-- JavaScript -->
  <script>
    // Main image preview
    const adminMainInput = document.getElementById('admin-main-upload-input');
    const adminMainPreview = document.getElementById('admin-main-preview');

    if (adminMainInput) {
      adminMainInput.addEventListener('change', function () {
        const file = this.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = function (e) {
            adminMainPreview.src = e.target.result;
            adminMainPreview.classList.remove('d-none');
          }
          reader.readAsDataURL(file);
        }
      });
    }

    // Extra images
    const adminExtraContainer = document.getElementById('admin-extra-upload-container');
    if (adminExtraContainer) {
      for (let i = 0; i < 3; i++) {
        const div = document.createElement('div');
        div.className = 'upload-box flex-fill position-relative';
        div.innerHTML = `
          <p>Upload</p>
          <input type="file" accept="image/*" />
          <img class="preview-image mt-2 d-none" />
        `;
        const input = div.querySelector('input');
        const img = div.querySelector('img');
        input.addEventListener('change', function () {
          const file = this.files[0];
          if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
              img.src = e.target.result;
              img.classList.remove('d-none');
            }
            reader.readAsDataURL(file);
          }
        });
        adminExtraContainer.appendChild(div);
      }
    }

    // Delete property
    document.getElementById("delete-property-form").addEventListener("submit", function (e) {
  e.preventDefault();
  const propertyId = document.getElementById("delete-property-id").value.trim();

  // Assuming confirmDelete is a function or a confirmation dialog call
  if (confirm("Are you sure you want to delete this property?")) {
    fetch('delete_property.php', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({ property_id: propertyId })
    })
    .then(response => response.json())
    .then(data => {
      if (data.success) {
        alert(`Property with ID "${propertyId}" has been deleted.`);
        // Optional: refresh list or remove DOM element here
      } else {
        alert(`Error: ${data.message}`);
      }
    })
    .catch(error => {
      console.error('Error:', error);
      alert("An error occurred while deleting the property.");
    });
  } // <- this closing brace was missing
});

// Extra image preview
const extraInput = document.getElementById('admin-extra-upload-input');
const extraPreviewContainer = document.getElementById('admin-extra-preview-container');

if (extraInput) {
  extraInput.addEventListener('change', function () {
    extraPreviewContainer.innerHTML = ""; // Clear previous previews

    Array.from(this.files).forEach(file => {
      const reader = new FileReader();
      reader.onload = function (e) {
        const img = document.createElement('img');
        img.src = e.target.result;
        img.className = 'preview-image rounded mb-2';
        img.style.width = '120px';
        img.style.height = 'auto';
        extraPreviewContainer.appendChild(img);
      };
      reader.readAsDataURL(file);
    });
  });
}

  </script>

  <script src="js/jquery-1.11.0.min.js"></script>
  <script src="js/script.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/iconify-icon@1.0.7/dist/iconify-icon.min.js"></script>

</body>
</html>
  