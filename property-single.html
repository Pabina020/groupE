<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> Rentup</title>

  <link rel="stylesheet" type="text/css" href="css/vendor.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

  <!-- Link Swiper's CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />

  <!-- Link Bootstrap's CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

  <link rel="stylesheet" href="style.css">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@300;400;500;600;700&display=swap"
    rel="stylesheet">

  <!-- script -->
  <script src="js/modernizr.js"></script>
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</head>

<body data-bs-spy="scroll" data-bs-target="#navbar-example2" tabindex="0">
<!-- Centered Toast for Add Property Access -->
<div class="position-fixed top-50 start-50 translate-middle p-3" style="z-index: 1060">
  <div id="loginToast" class="toast align-items-center text-white bg-danger border-0 shadow-lg" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="d-flex">
      <div class="toast-body" id="loginToastBody">Please log in as a landlord to add a property.</div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
  </div>
</div>

 <!-- nav bar start -->
 <header class="site-header fixed-top ">
  <nav class="navbar navbar-expand-lg py-3">
    <div class="container d-flex justify-content-between align-items-center">
      <!-- Logo -->
      <a class="navbar-brand" href="./index.html"><img src="images/logo.png" alt="image"></a>

      <!-- Nav items -->
      <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas"
      data-bs-target="#offcanvasNavbar2" aria-controls="offcanvasNavbar2" aria-label="Toggle navigation"><ion-icon
        name="menu-outline" style="font-size: 30px;"></ion-icon></button>

    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar2"
      aria-labelledby="offcanvasNavbar2Label">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasNavbar2Label">Menu</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas"
          aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <ul class="navbar-nav justify-content-center rounded-pill bg-white align-items-center mx-lg-5 px-lg-5">
          <li class="nav-item">
            <a class="nav-link  me-md-4" href="index.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link me-md-4" href="#apartment">Apartments</a>
          </li>
          <li class="nav-item">
            <a class="nav-link me-md-4" href="#residence">Properties</a>
          </li>
          <li class="nav-item">
            <a class="nav-link me-md-4" href="#help">Help center</a>
          </li>
          <li class="nav-item">
            <a class="nav-link me-md-4" href="#contact-us">Contact Us</a>
          </li>
          <li class="nav-item dropdown ">
            <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown" role="button" aria-expanded="false">
              <span class="link-text">Pages</span>
            </a>
            
            <ul class="dropdown-menu dropdown-menu-light">
              <li><a href="about.html" class="dropdown-item">About </a>
              </li>
              <li><a href="properties.html" class="dropdown-item">Properties </a></li>
              <li><a href="property-single.html" class="dropdown-item">Property-Single </a></li>
              <li><a href="contact.html" class="dropdown-item">Contact </a></li>
              <li><a href="reviews.html" class="dropdown-item">Review </a></li>
              <li><a href="agents.html" class="dropdown-item">Agents </a>
              </li>
              <li><a href="faqs.html" class="dropdown-item">FAQs </a>
              </li>
            </ul>
          </li></ul>
    
      <div class="d-flex align-items-center gap-3 mt-3 mt-lg-0">

              <!-- Add Property Button -->
              <a href="#" id="addPropertyBtn" class="btn btn-success btn-sm rounded-pill px-3">Add Property +</a>

              <!-- User Profile Section -->
              <div class="d-flex align-items-center gap-2">
                <img src="images/user-avatar.png" alt="User Avatar" class="rounded-circle"
                  style="width: 40px; height: 40px;">
                <span class="fw-semibold text-dark"><span id="username">User</span></span>
                <a href="#" id="logoutBtn" class="btn btn-danger btn-sm rounded-pill">Logout</a>
              </div>

            </div>
    </div>
  </nav>
</header>

  <section id="page-billboard" style="background-image: url(images/pattern.png);">
    <div id="property-details" class="container py-5 ">
      <div class="page-billboard-container">
        <div class="my-3">
          <h1 class="text-capitalize mb-3" id="property-name">Loading property...</h1>
          <div class="d-flex">
            <p class="fs-5 text-black" id="property-location">Loading location...</p>
            <p style="color: #000000">&nbsp; | &nbsp;</p>
            <p class="text-primary fs-5 fw-semibold" id="property-type">For Rent</p>
            <p style="color: #000000">&nbsp; | &nbsp;</p>
            <p class="text-primary fs-5 fw-semibold" id="property-price">Price: $0 / mo</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div class="post-wrap no-padding-bottom">
    <div class="container">
      <div class="row g-5">
        <main class="post-grid col-md-9">
          <div class="row">
            <article class="property">
              <div class="row flex-column">
                <div class="col-md-12">
                  <!-- product-large-slider -->
                  <div class="swiper product-large-slider">
                    <div class="swiper-wrapper" id="main-image-slider">
                      <!-- Images will be loaded dynamically -->
                      <div class="swiper-slide">
                        <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Loading..." class="img-fluid">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-12 mt-2">
                  <!-- product-thumbnail-slider -->
                  <div thumbsSlider="" class="swiper product-thumbnail-slider">
                    <div class="swiper-wrapper" id="thumbnail-slider">
                      <!-- Thumbnails will be loaded dynamically -->
                      <div class="swiper-slide">
                        <img src="images/placeholder.jpg" alt="Loading..." class="img-fluid" loading="lazy">
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="post-content py-5">
                <div class="overview my-5">
                  <h3 class="fs-2 mb-4">Property Overview</h3>
                  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4 mt-1">
                    <div class="col d-flex align-items-start">
                      <iconify-icon icon="material-symbols:bed-outline" class="property-icon border p-3"></iconify-icon>
                      <div class="ms-4">
                        <h3 class="fw-bold mb-0 fs-4 text-body-emphasis">Bedroom</h3>
                        <p id="property-bedrooms">0</p>
                      </div>
                    </div>
                    <div class="col d-flex align-items-start">
                      <iconify-icon icon="material-symbols:shower-outline"
                        class="property-icon border p-3"></iconify-icon>
                      <div class="ms-4">
                        <h3 class="fw-bold mb-0 fs-4 text-body-emphasis">Bath</h3>
                        <p id="property-bathrooms">0</p>
                      </div>
                    </div>
                    <div class="col d-flex align-items-start">
                      <iconify-icon icon="fluent-mdl2:date-time-2" class="property-icon border p-3"></iconify-icon>
                      <div class="ms-4">
                        <h3 class="fw-bold mb-0 fs-4 text-body-emphasis">Year Built</h3>
                        <p id="property-year">2023</p>
                      </div>
                    </div>
                    <div class="col d-flex align-items-start">
                      <iconify-icon icon="material-symbols:garage-home-outline"
                        class="property-icon border p-3"></iconify-icon>
                      <div class="ms-4">
                        <h3 class="fw-bold mb-0 fs-4 text-body-emphasis">Garage</h3>
                        <p id="property-garage">0</p>
                      </div>
                    </div>
                    <div class="col d-flex align-items-start">
                      <iconify-icon icon="pixelarticons:drop-area" class="property-icon border p-3"></iconify-icon>
                      <div class="ms-4">
                        <h3 class="fw-bold mb-0 fs-4 text-body-emphasis">Sqft</h3>
                        <p id="property-sqft">0</p>
                      </div>
                    </div>
                    <div class="col d-flex align-items-start">
                      <iconify-icon icon="teenyicons:search-property-outline"
                        class="property-icon border p-3"></iconify-icon>
                      <div class="ms-4">
                        <h3 class="fw-bold mb-0 fs-4 text-body-emphasis">Property Type</h3>
                        <p id="property-type-text">Villa</p>
                      </div>
                    </div>
                  </div>
                </div>
                <hr>
                <div class="price my-5">
                  <h3 class="fs-2 mb-4">Price Details</h3>
                  <p><span class="fw-bold text-primary">Rent/Month:</span> <span id="price-rent">$0</span> (negotiable)</p>
                  <p><span class="fw-bold text-primary">Service Charge:</span> <span id="price-service">$0</span> per month, subject to change</p>
                  <p><span class="fw-bold text-primary">Security Deposit:</span> <span id="price-deposit">0</span> month's rent</p>
                  <p><span class="fw-bold text-primary">Flat Release Policy:</span> <span id="price-policy">0</span> months earlier notice required</p>
                </div>
                <hr>
                <div class="details my-5">
                  <h3 class="fs-2 mb-4">Property Details</h3>
                  <p><span class="fw-bold text-primary">Address & Area:</span> <span id="property-address">Loading...</span></p>
                  <p><span class="fw-bold text-primary">Flat Size:</span> <span id="property-size">0</span> Sq Feet.</p>
                  <p><span class="fw-bold text-primary">Floor:</span> <span id="property-floor">Loading...</span></p>
                  <p><span class="fw-bold text-primary">Room Category:</span> <span id="property-rooms">Loading...</span></p>
                  <p><span class="fw-bold text-primary">Facilities:</span> <span id="property-facilities">Loading...</span></p>
                  <p><span class="fw-bold text-primary">Additional Facilities:</span> <span id="property-additional">Loading...</span></p>
                </div>
                <hr>
                <div class="feature my-5">
                  <h3 class="fs-2 mb-4">Features & Amenities</h3>
                  <div class="d-flex">
                    <ul class="ms-4 me-5" id="features-list-1">
                      <li>Loading features...</li>
                    </ul>
                    <ul class="ms-5" id="features-list-2">
                      <li>Loading more features...</li>
                    </ul>
                  </div>
                </div>
                <hr>
                <div class="address my-5">
                  <h3 class="fs-2 mb-4">Address</h3>
                  <div class="d-flex">
                    <div class="me-5">
                      <p><span class="fw-bold text-primary">Address:</span> <span id="address-street">Loading...</span></p>
                      <p><span class="fw-bold text-primary">City:</span> <span id="address-city">Loading...</span></p>
                      <p><span class="fw-bold text-primary">State/county:</span> <span id="address-state">Loading...</span></p>
                    </div>
                    <div class="ms-5">
                      <p><span class="fw-bold text-primary">Zip/Postal Code:</span> <span id="address-zip">Loading...</span></p>
                      <p><span class="fw-bold text-primary">Area:</span> <span id="address-area">Loading...</span></p>
                      <p><span class="fw-bold text-primary">Country:</span> <span id="address-country">Loading...</span></p>
                    </div>
                  </div>
                </div>
              </div>
            </article>

            <div id="post-author-info" class="border-top border-bottom py-5">
              <div class="row d-flex align-items-center">
                <div class="col-md-3">
                  <div class="image-holder">
                    <a itemprop="url" href="#">
                      <img src="images/author-image.jpg" class="img-fluid" alt="author">
                    </a>
                  </div>
                </div>
                <div class="col-md-8">
                  <div class="post-author-content">
                    <div class="element-title text-uppercase">
                      <a itemprop="url" href="#">Jenney Younes</a>
                    </div>
                    <span class="author-position">Owner</span>
                    <p>Nascetur libero elementum adipiscing mauris maecenas et magna. Etiam nec, rutrum a diam lacus,
                      nunc integer etiam. Mattis pulvinar non viverra donec pellentesque. Odio mi consequat libero
                      dolor. Porta ut diam lobortis eget leo, lectus. Tortor diam dignissim amet, in interdum aliquet.
                      Magnis dictum et eros purus fermentum, massa ullamcorper sit sollicitudin.</p>
                  </div>
                </div>
              </div>
            </div>
            <section id="post-comment">
              <div class="container">
                <div class="row my-5">
                  <div class="comments-wrap">
                    <h3 class="text-uppercase mb-5">
                      <span class="count">3</span> Comments
                    </h3>
                    <div class="comment-list">
                      <article class="comment-item pb-3 row">
                        <div class="col-md-1">
                          <img src="images/commentor-item1.jpg" alt="default"
                            class="commentor-image img-fluid rounded-circle">
                        </div>
                        <div class="col-md-10">
                          <div class="author-post mb-4">
                            <div class="comment-meta text-uppercase d-flex gap-3 text-black">
                              <div class="author-name text-white">Lufy carlson</div>
                              <span class="meta-date text-white-50">Jul 10</span>
                            </div>
                            <p>Tristique tempis condimentum diam done ullancomroer sit element henddg sit he
                              consequert.Tristique tempis condimentum diam done ullancomroer sit element henddg sit he
                              consequert.</p>
                            <div class="comments-reply border-animation">
                              <a href="#">
                                <i class="icon icon-mail-reply"></i>Reply </a>
                            </div>
                          </div>
                        </div>
                      </article>
                      <article class="comment-item pb-3 row child-comments">
                        <div class="col-md-1">
                          <img src="images/commentor-item2.jpg" alt="default"
                            class="commentor-image img-fluid rounded-circle">
                        </div>
                        <div class="col-md-10">
                          <div class="author-post mb-4">
                            <div class="comment-meta text-uppercase d-flex gap-3 text-black ">
                              <div class="author-name text-white">Lora leigh</div>
                              <span class="meta-date text-white-50">Jul 10</span>
                            </div>
                            <p>Tristique tempis condimentum diam done ullancomroer sit element henddg sit he
                              consequert.Tristique tempis condimentum diam done ullancomroer sit element henddg sit he
                              consequert.</p>
                            <div class="comments-reply border-animation">
                              <a href="#">
                                <i class="icon icon-mail-reply"></i>Reply </a>
                            </div>
                          </div>
                        </div>
                      </article>
                      <article class="comment-item pb-3 row">
                        <div class="col-md-1">
                          <img src="images/commentor-item3.jpg" alt="default"
                            class="commentor-image img-fluid rounded-circle">
                        </div>
                        <div class="col-md-10">
                          <div class="author-post mb-4">
                            <div class="comment-meta text-uppercase d-flex gap-3 text-black ">
                              <div class="author-name text-white">Natalie dormer</div>
                              <span class="meta-date text-white-50">Jul 10</span>
                            </div>
                            <p>Tristique tempis condimentum diam done ullancomroer sit element henddg sit he
                              consequert.Tristique tempis condimentum diam done ullancomroer sit element henddg sit he
                              consequert.</p>
                            <div class="comments-reply border-animation">
                              <a href="#">
                                <i class="icon icon-mail-reply"></i>Reply </a>
                            </div>
                          </div>
                        </div>
                      </article>
                    </div>
                  </div>
                  <div class="comment-respond my-5">
                    <h3 class="text-uppercase">Leave a Comment</h3>
                    <p>Your email address will not be published. Required fields are marked *</p>
                    <form method="post" class="form-group padding-small">
                      <div class="row">
                        <div class="col-lg-12 mb-3">
                          <textarea class="form-control ps-3 pt-3" id="comment" name="comment"
                            placeholder="Write your comment here *"></textarea>
                        </div>
                        <div class="col-lg-6 mb-3">
                          <input class="form-control ps-3" type="text" name="author" id="author"
                            placeholder="Write your full name here *">
                        </div>
                        <div class="col-lg-6">
                          <input class="form-control ps-3" type="email" name="email" id="email"
                            placeholder="Write your e-mail address *">
                        </div>
                        <div class="col-lg-12">
                          <label class="d-flex align-items-center">
                            <input type="checkbox" class="checked-box me-2">
                            <span class="label-body">Save my name, email, and website in this browser for the next
                              time.</span>
                          </label>
                        </div>
                        <div class="col-lg-12 mt-3">
                          <button class="btn btn-lg btn-primary text-uppercase rounded-pill w-100"
                            type="submit">Post Comment</button>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </section>
          </div>
        </main>
        <aside class="col-md-3">
          <div class=" ">
            <!-- Replace your current form with this one -->
            <div id="bookingFormContainer" class="form-group flex-wrap bg-light p-3">
              <h2 class="fs-2 text-uppercase text-black my-3">Book Now</h2>
              <form id="bookingForm" class="needs-validation" novalidate>
                <input type="hidden" id="property_id" name="property_id" value="<?php echo $property_id; ?>">

                
                <div class="mb-3">
                  <label for="name" class="form-label">FULL NAME</label>
                  <input type="text" class="form-control" id="name" name="name" required>
                  <div class="invalid-feedback">Please enter your full name</div>
                </div>
                
                <div class="mb-3">
                  <label for="email" class="form-label">EMAIL ADDRESS</label>
                  <input type="email" class="form-control" id="email" name="email" required>
                  <div class="invalid-feedback">Please enter a valid email</div>
                </div>
                
                <div class="mb-3">
                  <label for="phone" class="form-label">PHONE NUMBER</label>
                  <input type="tel" class="form-control" id="phone" name="phone" required>
                  <div class="invalid-feedback">Please enter your phone number</div>
                </div>
                
                <div class="mb-3">
                  <label for="family_members" class="form-label">FAMILY MEMBERS</label>
                  <input type="number" class="form-control" id="family_members" name="family_members" min="1" required>
                  <div class="invalid-feedback">Please enter number of family members</div>
                </div>
                
                <div class="mb-3">
                  <label for="children" class="form-label">CHILDREN</label>
                  <input type="number" class="form-control" id="children" name="children" min="0" required>
                  <div class="invalid-feedback">Please enter number of children</div>
                </div>
                
                <div class="mb-3">
                  <label for="booking_date" class="form-label">PREFERRED BOOKING DATE</label>
                  <input type="date" class="form-control" id="booking_date" name="booking_date" 
                         min="<?php echo date('Y-m-d'); ?>" required 
                         placeholder="YYYY-MM-DD">
                  <div class="invalid-feedback">Please select a booking date</div>
                </div>
                
                <div class="mb-3">
                  <label for="message" class="form-label">YOUR MESSAGE</label>
                  <textarea class="form-control" id="message" name="message" rows="3"></textarea>
                </div>
                
                <button type="submit" class="btn btn-primary w-100 py-3">
                  BOOK NOW
                </button>
                    
    <!-- Add this new Buy Property button -->
    <a href="Payment/project/confirmation.html" class="btn btn-success w-100 py-3 mt-3">
      BUY PROPERTY
    </a>
              </form>
            </div>
            
<!-- Add this modal for success message -->
<div class="modal fade" id="bookingModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body p-4 text-center" id="bookingStatusMessage">
        <!-- Dynamic content will be inserted here -->
      </div>
      <div class="modal-footer justify-content-center border-0">
        <button type="button" class="btn btn-primary px-4" data-bs-dismiss="modal">OK</button>
      </div>
    </div>
  </div>
</div>
            
            <div class="bg-light mt-5 p-3 ">  
              <h2 class="fs-2 text-uppercase text-black mt-3 mb-4">Our Agents</h2>
              <article class="comment-item align-items-center row mb-4 ">
                <div class="col-md-3">
                  <a href="agents.html"> <img src="images/team1.jpg" alt="default"
                      class="commentor-image img-fluid rounded-circle"> </a>
                </div>
                <div class="col-md-9 ">
                  <a href="agents.html">
                    <h5 class="element-title text-black text-uppercase ">Sandey Opwers</h5>
                  </a>
                  <h6 class="heading-color text-black">Real estate broker</h6>
                  <p class="text-black m-0">+1650-243-0000</p>
                </div>
              </article>
              <article class="comment-item pb-3 align-items-center row mb-4">
                <div class="col-md-3">
                  <a href="agents.html"> <img src="images/team2.jpg" alt="default"
                      class="commentor-image img-fluid rounded-circle"> </a>
                </div>
                <div class="col-md-9">
                  <a href="agents.html">
                    <h5 class="element-title text-black text-uppercase ">Lorey Denver</h5>
                  </a>
                  <h6 class="heading-color text-black">Sales Excutive</h6>
                  <p class="text-black m-0">+1650-243-0000</p>
                </div>
              </article>
              <div class="d-grid mb-3">
                <a href="agents.html" class="btn btn-primary rounded-pill btn-lg text-uppercase btn-rounded-none">Contact Now</a>
              </div>
            </div>
          </div>
        </aside>
      </div>
    </div>
  </div>
  
  <!-- Lets contact-us  -->
  <section class="py-5" id="contact-us">
    <div class="container">
      <div class="row align-items-center">
  
        <!-- Left: Text + Form -->
        <div class="col-lg-6 mb-4 mb-lg-0">
          <h5 class="fw-bold">Do You Have Any Question?</h5>
          <h5 class="fw-bold">Get Help From Us</h5>
  
          <div class="d-flex align-items-center gap-3 my-3">
            <div class="d-flex align-items-center gap-2">
              <i class="bi bi-check-circle"></i>
              <small class="fw-semibold">Chat live with our support team</small>
            </div>
            <div class="d-flex align-items-center gap-2">
              <i class="bi bi-check-circle"></i>
              <small class="fw-semibold">Browse our FAQ</small>
            </div>
          </div>
  
          <form class="d-flex align-items-center gap-3 mt-4">
            <div class="input-group rounded-pill bg-primary overflow-hidden shadow-sm" style="max-width: 350px;">
              <span class="input-group-text bg-primary border-0">
                <i class="bi bi-envelope text-white"></i>
              </span>
              <input type="email" class="form-control bg-primary border-0 text-white" placeholder="Enter your email address...">
            </div>

            <a href="#" class="btn btn-primary rounded-pill px-4">Submit</a>
          </form>
        </div>
  
       <!-- Interactive Google Map -->
<div class="col-lg-6 text-center text-lg-end">
  <iframe
    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d906778.5731543257!2d83.83550629505596!3d28.38004029629043!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3995936df2dc9fb3%3A0xc1b1a7f6a587c1b2!2sNepal!5e0!3m2!1sen!2snp!4v1711809038429!5m2!1sen!2snp"
    width="100%"
    height="510px"
    style="border:0; border-radius: 1rem;"
    allowfullscreen=""
    loading="lazy"
    referrerpolicy="no-referrer-when-downgrade">
  </iframe>
</div>
  
      </div>
    </div>
  </section>
  <!-- Footer Start -->
  <section id="footer">
    <div class="container footer-container py-5">
      <footer class="row row-cols-1 row-cols-sm-2 row-cols-md-5">
  
        <!-- Logo & Description -->
        <div class="col-md-4 mb-4">
          <h3><img src="images/logo-footer.png" alt="RentHub Logo" class="mb-3"></h3>
          <p>Neque, vestibulum sed varius magna et at. Eu, adipiscing morbi augue.</p>
          <div class="mt-3">
            <i class="bi bi-facebook pe-3"></i>
            <i class="bi bi-instagram pe-3"></i>
            <i class="bi bi-twitter pe-3"></i>
            <i class="bi bi-youtube pe-3"></i>
          </div>
        </div>
  
        <!-- Project Links -->
        <div class="col-md-2 mb-4">
          <h5>Project</h5>
          <ul class="nav flex-column">
            <li class="nav-item mb-2"><a href="#" class="footer-link">Houses</a></li>
            <li class="nav-item mb-2"><a href="#" class="footer-link">Rooms</a></li>
            <li class="nav-item mb-2"><a href="#" class="footer-link">Flats</a></li>
            <li class="nav-item mb-2"><a href="#" class="footer-link">Appartments</a></li>
          </ul>
        </div>
  
        <!-- Company Links -->
        <div class="col-md-2 mb-4">
          <h5>Company</h5>
          <ul class="nav flex-column">
            <li class="nav-item mb-2"><a href="#" class="footer-link">How we work?</a></li>
            <li class="nav-item mb-2"><a href="#" class="footer-link">Capital</a></li>
            <li class="nav-item mb-2"><a href="#" class="footer-link">Security</a></li>
          </ul>
        </div>
  
        <!-- Movement Links -->
        <div class="col-md-2 mb-4">
          <h5>Movement</h5>
          <ul class="nav flex-column">
            <li class="nav-item mb-2"><a href="#" class="footer-link">Movement</a></li>
            <li class="nav-item mb-2"><a href="#" class="footer-link">Support us</a></li>
            <li class="nav-item mb-2"><a href="#" class="footer-link">Pricing</a></li>
          </ul>
        </div>
  
        <!-- Help Links -->
        <div class="col-md-2 mb-4">
          <h5>Help</h5>
          <ul class="nav flex-column">
            <li class="nav-item mb-2"><a href="#" class="footer-link">Privacy</a></li>
            <li class="nav-item mb-2"><a href="#" class="footer-link">Condition</a></li>
            <li class="nav-item mb-2"><a href="#" class="footer-link">Blog</a></li>
            <li class="nav-item mb-2"><a href="#" class="footer-link">FAQs</a></li>
          </ul>
        </div>
  
      </footer>
    </div>
  
    <!-- Bottom Footer -->
    <div class="container">
      <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 mt-4 border-top">
        <div class="col-md-8 d-flex align-items-center">
          <p class="mb-0 text-white">© 2025 AgileTech, Inc. All rights reserved.</p>
        </div>
        <div class="col-md-4 d-flex align-items-center justify-content-end">
          <p class="mb-0 text-white">HTML template by: <a href="" class="text-white text-decoration-underline" target="_blank">AgileTech</a></p>
        </div>
      </footer>
    </div>
  </section>
  <script>
    
    document.addEventListener('DOMContentLoaded', function() {
      
        // Get property ID from URL
  // Get property ID from URL
const urlParams = new URLSearchParams(window.location.search);
const propertyId = urlParams.get('id');

if (!propertyId) {
    alert('No property specified');
    window.location.href = 'properties.html';
    return;
}

// Set property ID in form
document.getElementById('property_id').value = propertyId;
        
        // Initialize Swiper sliders
        const productThumbnailSlider = new Swiper(".product-thumbnail-slider", {
            spaceBetween: 10,
            slidesPerView: 4,
            freeMode: true,
            watchSlidesProgress: true,
        });
        
        const productLargeSlider = new Swiper(".product-large-slider", {
            spaceBetween: 10,
            navigation: {
                nextEl: ".swiper-button-next",
                prevEl: ".swiper-button-prev",
            },
            thumbs: {
                swiper: productThumbnailSlider,
            },
        });
    
        // Fetch property details
        fetch(`property.php?id=${propertyId}`)
    .then(response => {
        if (!response.ok) {
            // Add more detailed error logging
            console.error('Failed to fetch property:', response.status, response.statusText);
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        return response.json();
    })
    .then(properties => {
    // Handle case where API returns array
    const property = Array.isArray(properties) ? properties[0] : properties;
    
    if (!property || property.error) {
        throw new Error(property?.error || 'Property not found');
    }
    
// Replace your price formatting code with this:
// Format the price display based on property type
let displayPrice;
if (property.price) {
    displayPrice = property.price.toString();
    
    // Only add /mo if it's a rental and doesn't already have it
    if (property.type === 'Rent' && !displayPrice.endsWith('/mo')) {
        displayPrice = displayPrice + '/mo';
    }
    
    // Ensure it starts with $ if not already
    if (!displayPrice.startsWith('$')) {
        displayPrice = '$' + displayPrice;
    }
} else {
    displayPrice = 'Price not available';
}

    // Update property details
    document.getElementById('property-name').textContent = property.name || 'Property';
    document.getElementById('property-location').textContent = property.location || 'Location not specified';
    document.getElementById('property-type').textContent = property.type ? `For ${property.type}` : 'For Rent';
    document.getElementById('property-price').textContent = `Price: ${displayPrice}`;
    document.getElementById('price-rent').textContent = displayPrice;
    document.getElementById('property-bedrooms').textContent = property.bedrooms || '0';
    document.getElementById('property-bathrooms').textContent = property.bathrooms || '0';
    document.getElementById('property-sqft').textContent = property.sqft || '0';
    document.getElementById('property-type-text').textContent = property.type || 'Property';
    
    // Update price details
    
    // Rest of your code remains the same...
    // Update main image slider
    const mainImageSlider = document.getElementById('main-image-slider');
mainImageSlider.innerHTML = `
    <div class="swiper-slide">
        <img src="${property.main_image || 'data:image/svg+xml;base64,...'}" 
             alt="${property.name}" 
             class="img-fluid"
             loading="lazy"
             onerror="this.src='data:image/svg+xml;base64,...';this.alt='Image not available'">
    </div>
`;
    
    // ... rest of your existing code

                
                // Update thumbnail slider if there are extra images
                const thumbnailSlider = document.getElementById('thumbnail-slider');
if (property.extra_images && property.extra_images.length > 0) {
    thumbnailSlider.innerHTML = property.extra_images.map(img => `
        <div class="swiper-slide">
            <img src="${img}" 
                 alt="Property image" 
                 class="thumb-image img-fluid" 
                 loading="lazy"
                 onerror="this.src='data:image/svg+xml;base64,...';this.alt='Image not available'">
        </div>
    `).join('');
} else {
    thumbnailSlider.innerHTML = `
        <div class="swiper-slide">
            <img src="data:image/svg+xml;base64,..." 
                 alt="No additional images" 
                 class="img-fluid">
        </div>
    `;
}
                
                // Show/hide booking form based on availability
                if (property.is_booked) {
                    document.getElementById('bookingFormContainer').innerHTML = `
                        <div class="alert alert-warning">
                            <h4>This property has already been booked.</h4>
                            <p>Please check out our other available properties.</p>
                            <a href="properties.html" class="btn btn-primary">View Available Properties</a>
                        </div>
                    `;
                }
            })
            .catch(error => {
        console.error('Property fetch error:', error);
        // Show more detailed error to user
        document.getElementById('property-details').innerHTML = `
            <div class="alert alert-danger">
                <h4>Error loading property details</h4>
                <p>${error.message}</p>
                <p>Please try refreshing the page or contact support if the problem persists.</p>
                <a href="properties.html" class="btn btn-primary">Back to Properties</a>
            </div>
        `;
    });
    // Add this to your existing script
    document.addEventListener('DOMContentLoaded', function() {
  const bookingDateInput = document.getElementById('booking_date');
  const today = new Date();
  today.setHours(0, 0, 0, 0);
  
  // Set min date to today
  bookingDateInput.min = today.toISOString().split('T')[0];
  
  // Create a custom date picker UI
  bookingDateInput.addEventListener('focus', function() {
    // This will prevent the native picker from showing
    this.blur();
    
    // Create or show your custom picker
    showCustomDatePicker(this);
  });
  
  // Validation
  bookingDateInput.addEventListener('change', function() {
    const selectedDate = new Date(this.value);
    if (selectedDate < today) {
      this.value = '';
      this.classList.add('is-invalid');
      document.querySelector('#booking_date ~ .invalid-feedback').textContent = 
        'Please select today or a future date';
    } else {
      this.classList.remove('is-invalid');
    }
  });
});

function showCustomDatePicker(inputElement) {
  // Remove existing picker if any
  const existingPicker = document.getElementById('custom-date-picker');
  if (existingPicker) {
    existingPicker.remove();
  }
  
  // Create custom picker
  const picker = document.createElement('div');
  picker.id = 'custom-date-picker';
  picker.style.position = 'absolute';
  picker.style.zIndex = '1000';
  picker.style.backgroundColor = 'white';
  picker.style.border = '1px solid #ddd';
  picker.style.borderRadius = '5px';
  picker.style.padding = '10px';
  picker.style.boxShadow = '0 2px 10px rgba(0,0,0,0.1)';
  
  // Position it below the input
  const rect = inputElement.getBoundingClientRect();
  picker.style.top = `${rect.bottom + window.scrollY}px`;
  picker.style.left = `${rect.left + window.scrollX}px`;
  
  // Generate calendar HTML (you would expand this to be a full calendar)
  const today = new Date();
  today.setHours(0, 0, 0, 0);
  
  // This is a simplified version - you'd want to implement a full calendar
  picker.innerHTML = `
    <div style="text-align: center; margin-bottom: 10px;">
      <button style="float: left">&lt;</button>
      <strong>${today.toLocaleString('default', { month: 'long', year: 'numeric' })}</strong>
      <button style="float: right">&gt;</button>
    </div>
    <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px;">
      ${generateCalendarDays(today)}
    </div>
    <div style="text-align: center; margin-top: 10px;">
      <button onclick="document.getElementById('custom-date-picker').remove()">Close</button>
    </div>
  `;
  
  document.body.appendChild(picker);
}

function generateCalendarDays(today) {
  let html = '';
  const daysInMonth = new Date(today.getFullYear(), today.getMonth() + 1, 0).getDate();
  const firstDay = new Date(today.getFullYear(), today.getMonth(), 1).getDay();
  
  // Add empty cells for days before the 1st
  for (let i = 0; i < firstDay; i++) {
    html += `<div style="padding: 5px; text-align: center;"></div>`;
  }
  
  // Add days of the month
  for (let day = 1; day <= daysInMonth; day++) {
    const date = new Date(today.getFullYear(), today.getMonth(), day);
    const isPast = date < today;
    
    html += `
      <div style="padding: 5px; text-align: center; 
                  ${isPast ? 'color: #dc3545; text-decoration: line-through;' : 'cursor: pointer;'}
                  ${!isPast ? '&:hover { background: #f0f0f0; }' : ''}"
           ${!isPast ? `onclick="selectDate(${day}, ${today.getMonth()}, ${today.getFullYear()})"` : ''}>
        ${day}
      </div>
    `;
  }
  
  return html;
}

flatpickr("#booking_date", {
  minDate: "today",
  disable: [
    function(date) {
      // Disable dates before today
      return date < new Date().fp_incr(-1);
    }
  ],
  onReady: function(selectedDates, dateStr, instance) {
    // Highlight past dates in red
    instance.calendarContainer.querySelectorAll('.flatpickr-day').forEach(day => {
      if (day.classList.contains('flatpickr-disabled')) {
        day.style.color = '#dc3545';
        day.style.textDecoration = 'line-through';
      }
    });
  }
});
  // if you're setting this dynamically somewhere
  function validateBookingForm() {
    const email = document.getElementById('email').value;
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(email)) {
        document.getElementById('email').classList.add('is-invalid');
        return false;
    }
    
}

// Update your form submission handler
document.getElementById('bookingForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    if (!this.checkValidity()) {
        e.stopPropagation();
        this.classList.add('was-validated');
        return;
    }

    const formData = new FormData(this);
    const submitBtn = this.querySelector('button[type="submit"]');
    
    // Show loading state
    submitBtn.disabled = true;
    submitBtn.innerHTML = '<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Processing...';

    fetch('book-property.php', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(Object.fromEntries(formData))
    })
    .then(response => {
        if (!response.ok) {
            return response.json().then(err => { throw new Error(err.message); });
        }
        return response.json();
    })
    // Replace your fetch().then() handler with this:
.then(data => {
    const modal = new bootstrap.Modal(document.getElementById('bookingModal'));
    const messageDiv = document.getElementById('bookingStatusMessage');
    
    if (data.success) {
        messageDiv.innerHTML = `
            <div class="text-center">
                <i class="bi bi-check-circle-fill text-success" style="font-size: 3rem;"></i>
                <h4 class="text-success mt-3">Booking Successful!</h4>
                <p>Thank you for booking ${data.property_name || 'the property'}.</p>
                <p>Booking ID: ${data.booking_id}</p>
                <p>We've sent confirmation to ${data.confirmation_email}</p>
            </div>
        `;
        
        // Disable the booking form
        document.getElementById('bookingForm').innerHTML = `
            <div class="alert alert-success">
                <h4>Booking Confirmed!</h4>
                <p>Reference: #${data.booking_id}</p>
                <p>We've emailed details to ${data.confirmation_email}</p>
            </div>
        `;
    } else {
        // Error handling remains the same
    }
    modal.show();
})
    .catch(error => {
        const modal = new bootstrap.Modal(document.getElementById('bookingModal'));
        document.getElementById('bookingStatusMessage').innerHTML = `
            <div class="text-center">
                <i class="bi bi-exclamation-triangle-fill text-warning" style="font-size: 3rem;"></i>
                <h4 class="text-warning mt-3">Booking Error</h4>
                <p>${error.message}</p>
            </div>
        `;
        modal.show();
    })
    .finally(() => {
        submitBtn.disabled = false;
        submitBtn.innerHTML = 'BOOK NOW';
        this.classList.remove('was-validated');
    });
});
    });
    </script>
   <script>
    // In your fetch().then() handler:
// Replace your current price formatting code with this:
// Replace your current price formatting code with this:
// Format the price to add $ prefix and ensure proper formatting
// In your fetch().then() handler, replace the price handling with this:

// Format the price to add $ prefix if not already present
let displayPrice;
if (property.price) {
    // Ensure price starts with $ and has /mo suffix
    displayPrice = property.price.toString();
    if (!displayPrice.startsWith('$')) {
        displayPrice = '$' + displayPrice;
    }
    if (!displayPrice.endsWith('/mo')) {
        displayPrice = displayPrice + '/mo';
   }
} else {
    displayPrice = 'Price not available';
}

// Update all price displays
document.getElementById('property-price').textContent = `Price: ${displayPrice}`;
document.getElementById('price-rent').textContent = displayPrice;
   </script>
  <script src="js/jquery-1.11.0.min.js"></script>
  <script src="js/script.js"></script>
     <script src="LogSign/project/script.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/iconify-icon@1.0.7/dist/iconify-icon.min.js"></script>

<!-- Centered Toast Container -->
<div class="position-fixed top-50 start-50 translate-middle p-3" style="z-index: 1055">
  <div id="logoutToast" class="toast align-items-center text-white bg-success border-0 shadow-lg" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="d-flex">
      <div class="toast-body" id="logoutToastBody">Logging out...</div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
  </div>
</div>
</body>

</html>